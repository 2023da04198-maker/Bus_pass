<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bus Pass</title>

<!-- ðŸ” SESSION CHECK -->
<script>
    if (sessionStorage.getItem("authenticated") !== "true") {
        window.location.replace("index.html");
    }
</script>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #ffffff;
}

/* HEADER */
.header {
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
}

/* HAMBURGER */
#hamburger {
    position: fixed;
    top: 15px;
    left: 12.5px;
    z-index: 1001;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 12px;
    height: 24px;
}
#hamburger div {
    height: 2px;
    background: #fff;
    margin: 1px 0;
    transition: 0.4s;
}
/* Hamburger transform to cross */
#hamburger.change .bar1 {
    transform: rotate(-45deg) translate(-6px, 6px);
}
#hamburger.change .bar2 {
    opacity: 0;
}
#hamburger.change .bar3 {
    transform: rotate(45deg) translate(-6px, -6px);
}
/* Move hamburger to top-right when menu open */
#hamburger.menu-open {
    left: 60%;
    right: auto;
    transform: translateX(-50%);
}

/* SIDE MENU */
#sideMenu {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1000;
    top: 0;
    left: 0;
    background-color: #0073d6;
    overflow-x: hidden;
    transition: 0.3s;
    padding-top: 60px;
    display: flex;
    flex-direction: column;
}
#sideMenu a {
    padding: 12px 30px;
    text-decoration: none;
    font-size: 16px;
    color: #fff;
    display: block;
    transition: 0.3s;
}
#sideMenu a:hover {
    background-color: rgba(255,255,255,0.1);
    color: #ffe5e5;
}

/* TITLE */
.title {
    text-align: center;
    padding: 10px 0 0 0;
    font-size: 20px;
    font-weight: 600;
    background: #fff;
}

/* PASS CONTAINER */
.pass-container {
    width: 100%;
    max-width: 420px;
    margin: 0 auto;
}
.illustration video {
    width: 100%;
    display: block;
}

/* DATE BUBBLE */
.date-bubble {
    margin: 0 auto 10px auto;
    padding: 10px 16px;
    font-size: 19px;
    font-weight: 800;
    background: linear-gradient(to bottom, #6ec8ff, #0073d6);
    color: #fff0f0; 
    border-radius: 45px;
    width: fit-content;
    box-shadow: 0 0 22px rgba(0, 123, 255, 0.85);
    text-shadow:
        0 0 4px rgba(255, 120, 120, 0.9),
        0 0 8px rgba(255, 120, 120, 0.7),
        0 0 12px rgba(255, 120, 120, 0.5),
        0 0 16px rgba(255, 120, 120, 0.35);
    text-align: center;
}

/* INFO BOX */
.info-box {
    background: linear-gradient(to bottom, #0fa82b, #04791b);
    padding: 0px 25px 25px 25px;
    color: white;
}

.row {
    display: flex;
    padding: 4px 0;
    font-size: 60px;
    margin-bottom: 6.5px;
}
.label {
    font-weight: 700;
}
@media (max-width: 480px) {
    .row { font-size: 12px !important; }
}

html, body {
    -webkit-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
}
</style>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0090d4">
<meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body>

<!-- Hamburger -->
<div id="hamburger" onclick="toggleMenu()">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
</div>

<!-- Side Menu -->
<div id="sideMenu">
    <a href="first.html">Home</a>
    <a href="#">Profile</a>
    <a href="#">View Roster</a>
    <a href="#">Bus Pass Booking</a>
    <a href="#">Bus Pass History</a>
    <a href="#">Request For New Route</a>
    <a href="#">Rate Us</a>
    <a href="#">Terms and Conditions</a>
    <a href="#">Change Password</a>
</div>

<!-- Header -->
<div class="header">
    <div style="width:100%;">
        <img src="logo.jpeg" style="width:100%; height:auto; object-fit:contain;">
    </div>
</div>

<div class="title">Bus Pass</div>

<div class="pass-container">
    <div class="illustration">
        <video src="bus.mp4" autoplay loop muted playsinline></video>
    </div>

    <div class="info-box">
        <div class="date-bubble" id="liveTime">--</div>
            
        <div class="row"><span class="label">Name - </span><span id="empName" style="margin-left:17.5%"></span></div>
        <div class="row"><span class="label">Employee Id - </span><span id="empIdField" style="margin-left:6.5%"></span></div>
        <div class="row"><span class="label">Route Name - </span><span id="routeField" style="margin-left:6.75%"></span></div>
        <div class="row"><span class="label">Location - </span><span style="margin-left:12.75%">ASEZ</span></div>
        <div class="row"><span class="label">Nodal Point - </span><span id="nodeField" style="margin-left:8%"></span></div>
        <div class="row"><span class="label">Trip Type - </span><span style="margin-left:12.25%">Both</span></div>
        <div class="row"><span class="label">Shift - </span><span id="shiftField" style="margin-left:19.75%"></span></div>
        <div class="row"><span class="label">Valid From - </span><span style="margin-left:9.75%">01-DEC-25</span></div>
        <div class="row"><span class="label">Valid To - </span><span style="margin-left:14.75%">31-DEC-25</span></div>
        <div class="row"><span class="label">Issued On - </span><span style="margin-left:10.75%">16-11-2025</span></div>
    </div>
</div>

<script>
/* âœ… READ DATA FROM SESSION STORAGE */
const userName  = sessionStorage.getItem("name")   || "--";
const userEmpId = sessionStorage.getItem("empId")  || "--";
const userShift = sessionStorage.getItem("shift")  || "--";
const userRoute = sessionStorage.getItem("route")  || "--";
const userNode  = sessionStorage.getItem("node")   || "--";

document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("empName").innerText     = userName;
    document.getElementById("empIdField").innerText = userEmpId;
    document.getElementById("shiftField").innerText = userShift;
    document.getElementById("routeField").innerText = userRoute;
    document.getElementById("nodeField").innerText  = userNode;
});

/* LIVE TIME */
function updateTime() {
    const now = new Date();
    const months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
    const formatted =
        String(now.getDate()).padStart(2,"0") + "-" +
        months[now.getMonth()] + "-" +
        now.getFullYear() + " " +
        String(now.getHours()).padStart(2,"0") + ":" +
        String(now.getMinutes()).padStart(2,"0") + ":" +
        String(now.getSeconds()).padStart(2,"0");

    document.getElementById("liveTime").innerText = formatted;
}
setInterval(updateTime, 1000);
updateTime();

/* MENU TOGGLE */
function toggleMenu() {
    const menu = document.getElementById("sideMenu");
    const hamburger = document.getElementById("hamburger");

    if (menu.style.width === "250px") {
        menu.style.width = "0";
        hamburger.classList.remove("change", "menu-open");
    } else {
        menu.style.width = "250px";
        hamburger.classList.add("change", "menu-open");
    }
}

/* LOGOUT */
function logout() {
    sessionStorage.clear();
}
</script>

</body>
</html>
